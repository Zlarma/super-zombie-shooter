<!DOCTYPE html>
<html lang="PT-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styleMenu.css">
    <link rel="icon" href="./assets/icone.png">
    <script src="secret.js" defer></script>
    <title>Super Zombie Shooter</title>
</head>

<body>
    <div class="container">
        <h1><img src="./assets/SUPER.gif" alt="SUPER" id="SUPER"> <span id="ZOMBIE"><span id="zombie-word">Zombie</span>
                Shooter</span></h1>

        <div class="botoes">
            <div class="play">
                <a id="jogar" href="./jogo.html">Jogar</a>
            </div>
            <div class="tuto">
                <button>Tutorial</button>
            </div>

            <img id="zombie-flash" src="./assets/icone.png" alt="Zombie Flash" />

        </div>

        <button id="ativa">Botão legal</button>

</body>

</html>

<script>
    // alert("Pequena pausa para rodar a música de menu...\n\n\n\nAperte `Ok` para ver o menu!!! ;)")

    let tuto = document.querySelector('.tuto');
    let jogar = document.querySelector('.play');
    let tutoB = document.querySelector('.tuto button');

    let menuSong = new Audio(`./assets/musics/menu.mp3`);

    let zombie = document.getElementById('ZOMBIE');
    let superTitle = document.getElementById('SUPER');
    let ativa = document.getElementById('ativa');

    zombie.style.animationPlayState = 'paused';
    jogar.style.animationPlayState = 'paused';
    tuto.style.animationPlayState = 'paused';
    superTitle.style.animationPlayState = 'paused';
    document.body.classList.add('dark-mode');

    ativa.addEventListener("click", () => {
        menuSong.addEventListener('timeupdate', function () {
            const buffer = 0.25; // seconds, little safety margin
            if (menuSong.currentTime > menuSong.duration - buffer) {
                menuSong.currentTime = 0;
                menuSong.play();
            }
        });

        menuSong.play();

        document.body.classList.remove('dark-mode');
        zombie.style.animationPlayState = 'running';
        superTitle.style.animationPlayState = 'running';
        tuto.style.animationPlayState = 'running';
        jogar.style.animationPlayState = 'running';
        ativa.style.display = 'none';
    })


    tutoB.addEventListener('click', function () {
        alert("TUTORIAL???\n\nO jogo é literalmente clicar nos zumbis para eles morrerem!!!\nMas, não erre o tiro, você perde vida se errar.")
    });

</script>